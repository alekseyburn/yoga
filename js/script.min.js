;(function() {
"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){return Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)?Array.from(e):void 0}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function startRotate(e){var t=this.querySelector(".subscriptions__wrapper"),r=t.offsetHeight/2,o=t.offsetWidth/2;t.style.transform="rotateX(".concat(-(e.offsetY-r)/7,"deg) \n                              rotateY(").concat((e.offsetX-o)/7,"deg)")}function stopRotate(){var e=this.querySelector(".subscriptions__wrapper");e.style.transform="rotate(0)"}document.querySelector("html").classList.remove("no-js"),document.addEventListener("DOMContentLoaded",function(){(/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)||/Trident.*rv:/.test(navigator.userAgent))&&(document.querySelector("body").classList.remove("webp"),document.querySelector("body").classList.add("no-webp"))});var loadFile=function(e,t){var r=document.createElement("script"),o=function(){r.parentNode.removeChild(r),r=document.createElement("script"),r.type="text/javascript",r.src=t,document.getElementsByTagName("head")[0].appendChild(r)};r.type="text/javascript",r.src=e,r.onerror=o,document.getElementsByTagName("head")[0].appendChild(r)};if(/Trident.*rv:/.test(navigator.userAgent)&&(loadFile("//cdnjs.cloudflare.com/ajax/libs/picturefill/3.0.3/picturefill.min.js","js/picturefill.min.js"),loadFile("//cdnjs.cloudflare.com/ajax/libs/svgxuse/1.2.6/svgxuse.min.js","js/svgxuse.min.js")),"loading"in HTMLImageElement.prototype){var images=document.querySelectorAll('img[loading="lazy"]');images.forEach(function(e){e.src=e.dataset.src,e.srcset=e.dataset.srcset,e.removeAttribute("data-src"),e.removeAttribute("data-srcset")});var sources=document.querySelectorAll("source");sources.forEach(function(e){e.srcset=e.dataset.srcset,e.removeAttribute("data-srcset")})}else loadFile("https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js","js/lazysizes.min.js"),document.addEventListener("DOMContentLoaded",function(){var e;if("IntersectionObserver"in window){e=document.querySelectorAll(".lazy");var t=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var r=e.target;r.classList.remove("lazy"),t.unobserve(r)}})});e.forEach(function(e){t.observe(e)})}else{var r,o=function n(){r&&clearTimeout(r),r=setTimeout(function(){var t=window.pageYOffset;e.forEach(function(e){e.offsetTop<window.innerHeight+t&&(e.src=e.dataset.src,e.classList.remove("lazy"))}),0==e.length&&(document.removeEventListener("scroll",n),window.removeEventListener("resize",n),window.removeEventListener("orientationChange",n))},20)};e=document.querySelectorAll(".lazy"),document.addEventListener("scroll",o),window.addEventListener("resize",o),window.addEventListener("orientationChange",o)}});document.addEventListener("DOMContentLoaded",function(){function e(e,s,l){function c(t){if(n){n=!1,i=document.querySelector(e).querySelector(".active");var r=d.indexOf(i);t?(a=d[(r+1)%d.length],i.classList.add("slideOutLeft"),a.classList.remove("non-visible"),a.classList.add("slideInRight","active")):(a=d[(r-1+d.length)%d.length],i.classList.add("slideOutRight"),a.classList.remove("non-visible"),a.classList.add("slideInLeft","active"))}}var d=_toConsumableArray(document.querySelector(e).querySelectorAll(".slide-js"));d.forEach(function(e){e.setAttribute("style","transition: transform ".concat(t,"ms ease;\n                     animation-duration: ").concat(t,"ms")),e.classList.contains("active")?e.classList.remove("non-visible"):e.classList.add("non-visible")}),d.forEach(function(e){e.addEventListener("transitionend",function(){e!==i||n||(n=!0,i.className="".concat(s," slide-js non-visible"))})}),o[l-1].addEventListener("click",function(){c(!0)}),r[l-1].addEventListener("click",function(){c(!1)})}var t=500,r=document.querySelectorAll(".slider-back-btn-js"),o=document.querySelectorAll(".slider-next-btn-js"),n=!0,i=null,a=null;e(".team__list","team__item","1"),e(".reviews__list","reviews__item","2")});var cards=_toConsumableArray(document.querySelectorAll(".subscriptions__item"));cards.forEach(function(e){e.addEventListener("mousemove",startRotate),e.addEventListener("mouseout",stopRotate)});var form=document.querySelector(".form");document.addEventListener("DOMContentLoaded",function(){_toConsumableArray(form.querySelectorAll("input")).forEach(function(e){e.value=window.sessionStorage.getItem(e.name,e.value),e.addEventListener("input",function(){window.sessionStorage.setItem(e.name,e.value)})})});var name=form.querySelector("[name=name]");name.addEventListener("invalid",function(){name.setCustomValidity(name.validity.tooLong?"Не более 20 букв":name.validity.tooShort?"Не менее 2 букв":name.validity.patternMismatch?"Допустимы только буквы":"")});var phone=form.querySelector("[name=phone]");phone.addEventListener("invalid",function(){phone.setCustomValidity(phone.validity.patternMismatch?"Введите номер в формате +7 XXX XXX XX XX":"")});var controller=new ScrollMagic.Controller,tl=new TimelineMax;tl.from(".directions__title",.5,{y:-100,opacity:0}),tl.from(".directions__item--main",.6,{x:-50,opacity:0,transformOrigin:"left bottom",transform:"rotate(-5deg)"}),tl.from(".directions__item:not(.directions__item--main)",.5,{x:50,opacity:0},"=-0.2");var scene=new ScrollMagic.Scene({triggerElement:".directions",triggerHook:"0.85"}).setTween(tl).addTo(controller),tl2=new TimelineMax;tl2.from(".subscriptions__title",.5,{y:-100,opacity:0}),tl2.from(".subscriptions__form",.5,{y:100,opacity:0}),tl2.from(".subscriptions__list",.5,{y:200,opacity:0});var scene2=new ScrollMagic.Scene({triggerElement:".subscriptions",triggerHook:"0.85"}).setTween(tl2).addTo(controller),tl3=new TimelineMax;tl3.from(".team__title",.5,{y:-100,opacity:0}),tl3.from(".team__column-left",.7,{x:-200,opacity:0}),tl3.from(".team__column-right",1,{opacity:0},"=-0.3");var scene3=new ScrollMagic.Scene({triggerElement:".team",triggerHook:"0.85"}).setTween(tl3).addTo(controller);if(window.matchMedia("(min-width: 320px)").matches){var tl4=new TimelineMax;tl4.from(".reviews__title",.5,{y:-100,opacity:0}),tl4.from(".reviews__list",1,{transform:"scale(0, 0)",opacity:0}),tl4.from(".button--reviews-left",.4,{x:-200,opacity:0}),tl4.from(".button--reviews-right",.4,{x:200,opacity:0},"=-0.4"),tl4.from(".reviews__counter",.5,{opacity:0});var scene4=new ScrollMagic.Scene({triggerElement:".reviews",triggerHook:"0.85"}).setTween(tl4).addTo(controller)}else{var _tl=new TimelineMax;_tl.from(".reviews__title",.5,{y:-100,opacity:0}),_tl.from(".reviews__list",1,{transform:"scale(0, 0)",opacity:0}),_tl.from(".button--reviews-left",.4,{x:-200,opacity:0}),_tl.from(".button--reviews-right",.4,{x:200,opacity:0},"=-0.4");var _scene=new ScrollMagic.Scene({triggerElement:".reviews",triggerHook:"0.85"}).setTween(_tl).addTo(controller)}if(window.matchMedia("(min-width: 320px)").matches){var tl5=new TimelineMax;tl5.from(".page-footer__record",1,{opacity:0}),tl5.from(".page-footer__contacts-list",1,{x:-100,opacity:0});var scene5=new ScrollMagic.Scene({triggerElement:".page-footer",triggerHook:"0.85"}).setTween(tl5).addTo(controller)}if(window.matchMedia("(min-width: 1440px)").matches){var _tl2=new TimelineMax;_tl2.from(".page-footer__record",1,{x:200,opacity:0}),_tl2.to(".page-footer__record",{x:0,opacity:1}),_tl2.from(".page-footer__contacts",1,{x:-100,opacity:0},"=-0.6"),_tl2.from(".page-footer__copyright",.4,{opacity:0},"=-1");var _scene2=new ScrollMagic.Scene({triggerElement:".page-footer",triggerHook:"0.85"}).setTween(_tl2).addTo(controller)}
}());
